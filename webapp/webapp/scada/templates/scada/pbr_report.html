{% load static %}


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ report_title }}</title>
    <link rel="stylesheet" type="text/css" href="file://{{ report_css_url }}" />
</head>
<body>
    <div class="title-logo-container">
        <img src="file://{{ logo_url }}" alt="Logo" class="report-logo" />
        <div class="span-text">
            <span>Generated by: <strong>{{ generated_by }}</strong></span><br>
            <span>Generated on: <strong>{{ generated_date }}</strong></span><br>
            <span>Start Date: <strong>{{ start_date }}</strong></span><br>
            <span>End Date: <strong>{{ end_date }}</strong></span>
        </div>
    </div>

    <h1 class="report-title">{{ report_title }}</h1>

    {% if oil_table_data %}
    <table class="report-table">
        <thead>
            <tr>
                <th class="th-left"><strong>{{ battery_code }}</strong></th>
                <th class="th-left oil-cell"><strong>OIL</strong></th>
                <th class="th-left"><strong>PETRINEX</strong></th>
                <th class="th-left formular_cell"><strong>FORMULA</strong></th>
                <th class="th-left"></th>
            </tr>
            <tr>
                <th class="th-left"><strong>ACTIVITY</strong></th>
                <th class="th-left"><strong>PRODUCT</strong></th>
                <th class="th-left"><strong>VOLUME</strong></th>
                <th class="th-left"><strong>ADJ TOTAL</strong></th>
                <th class="th-left"><strong>NOTES</strong></th>
            </tr>
        </thead>
        <tbody>
            {% for item in oil_table_data %}
            <tr class="{% if forloop.last %}highlight-last-row{% endif %}">
                <td class="td-left">{{ item.activity }}</td>
                <td class="th-left">{{ item.product }}</td>
                <td class="td-right">{{ item.volume }}</td>
                <td class="td-right
                    {% if item.notes == 'ADD' %}bg-green{% endif %}
                    {% if item.notes == 'SUBTRACT' %}bg-red{% endif %}">
                        {% if item.activity == 'PROD' %}
                            <strong>{{ item.adj_total }}</strong>
                        {% else %}
                            {{ item.adj_total }}
                        {% endif %}
                </td>
                <td class="th-left">{{ item.notes }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% endif %}

    {% if gas_table_data %}
    <table class="report-table">
        <thead>
            <tr>
                <th class="th-left"><strong>{{ battery_code }}</strong></th>
                <th class="th-left oil-cell"><strong>GAS</strong></th>
                <th class="th-left"><strong>PETRINEX</strong></th>
                <th class="th-left formular_cell"><strong>FORMULA</strong></th>
                <th class="th-left"></th>
            </tr>
            <tr>
                <th class="th-left"><strong>ACTIVITY</strong></th>
                <th class="th-left"><strong>PRODUCT</strong></th>
                <th class="th-left"><strong>VOLUME</strong></th>
                <th class="th-left"><strong>ADJ TOTAL</strong></th>
                <th class="th-left"><strong>NOTES</strong></th>
            </tr>
        </thead>
        <tbody>
            {% for item in gas_table_data %}
            <tr class="{% if forloop.last %}highlight-last-row{% endif %}">
                <td class="td-left">{{ item.activity }}</td>
                <td class="th-left">{{ item.product }}</td>
                <td class="td-right">{{ item.volume }}</td>
                <td class="td-right
                    {% if item.notes == 'ADD' %}bg-green{% endif %}
                    {% if item.notes == 'SUBTRACT' %}bg-red{% endif %}">
                        {% if item.activity == 'PROD' %}
                            <strong>{{ item.adj_total }}</strong>
                        {% else %}
                            {{ item.adj_total }}
                        {% endif %}
                </td>
                <td class="th-left">{{ item.notes }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% endif %}

    {% if water_table_data %}
    <table class="report-table">
        <thead>
            <tr>
                <th class="th-left"><strong>{{ battery_code }}</strong></th>
                <th class="th-left oil-cell"><strong>WATER</strong></th>
                <th class="th-left"><strong>PETRINEX</strong></th>
                <th class="th-left formular_cell"><strong>FORMULA</strong></th>
                <th class="th-left"></th>
            </tr>
            <tr>
                <th class="th-left"><strong>ACTIVITY</strong></th>
                <th class="th-left"><strong>PRODUCT</strong></th>
                <th class="th-left"><strong>VOLUME</strong></th>
                <th class="th-left"><strong>ADJ TOTAL</strong></th>
                <th class="th-left"><strong>NOTES</strong></th>
            </tr>
        </thead>
        <tbody>
            {% for item in water_table_data %}
            <tr class="{% if forloop.last %}highlight-last-row{% endif %}">
                <td class="td-left">{{ item.activity }}</td>
                <td class="th-left">{{ item.product }}</td>
                <td class="td-right">{{ item.volume }}</td>
                <td class="td-right
                    {% if item.notes == 'ADD' %}bg-green{% endif %}
                    {% if item.notes == 'SUBTRACT' %}bg-red{% endif %}">
                        {% if item.activity == 'PROD' %}
                            <strong>{{ item.adj_total }}</strong>
                        {% else %}
                            {{ item.adj_total }}
                        {% endif %}
                </td>
                <td class="th-left">{{ item.notes }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% endif %}

    <div class="chart-container">
        <img src="{{ oil_bar_plot_url }}" alt="Oil Bar Plot" class="bar-plot">
    </div>

    <div class="chart-container">
        <img src="{{ gas_bar_plot_url }}" alt="Gas Bar Plot" class="bar-plot">
    </div>

    <div class="chart-container">
        <img src="{{ water_bar_plot_url }}" alt="Water Bar Plot" class="bar-plot">
    </div>
</body>
</html>
